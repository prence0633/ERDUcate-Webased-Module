<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ERDucate Lesson4 - Table Structures & Keys</title>
  <link rel="icon" href="ERDucate.ico">
  <style>
   body {
  font-family: 'Poppins', sans-serif;
  max-width: 900px;
  margin: 0 auto;
  padding: 0 20px;
  background-image: url("Quiz-Background-Lesson2.png");
  background-repeat: no-repeat;
  background-position: center center;
  background-attachment: fixed;
  background-size: cover;
  color: #333;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

header {
  background-color: #800000;
  color: #fff;
  padding: 15px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
}

header .title { 
  font-size: 20px; 
  font-weight: 600; 
  text-align: center; 
  flex: 1 1 100%; 
  margin-bottom: 10px; 
}

header .btn-group a {
  background: transparent;
  border: 2px solid #fff;
  color: #fff;
  padding: 6px 14px;
  border-radius: 6px;
  cursor: pointer;
  text-decoration: none;
  font-size: 14px;
  transition: 0.3s ease;
  margin: 4px 0;
  display: inline-block;
}

header .btn-group a:hover {
  background: #fff;
  color: #800000;
}

h1 {
  color: #800000;
  text-align: center;
  margin-top: 25px;
  font-size: 22px;
}

form { 
  margin-top: 20px; 
  width: 100%; 
}

.question {
  background: #fff;
  padding: 15px;
  border-radius: 10px;
  margin-bottom: 15px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.question h3 { 
  margin: 0 0 10px; 
  color: #800000; 
  font-size: 16px; 
}

.question label { 
  display: block; 
  margin: 6px 0; 
  font-size: 14px; 
  cursor: pointer; 
}

button.submit-btn {
  padding: 12px 20px;
  background: #800000;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  transition: 0.3s ease;
  width: 100%;
  font-size: 16px;
  margin-top: 10px;
}

button.submit-btn:hover { 
  background: #a00000; 
}

footer {
  text-align: center;
  background: #800000;
  color: #fff;
  padding: 25px;
  font-size: 13px;
  margin-top: auto;
}

.timer {
  font-weight: bold;
  font-size: 16px;
  text-align: center;
  margin-top: 10px;
}

#resultModal {
  position: fixed;
  top:0; left:0;
  width:100vw; height:100vh;
  background: rgba(0,0,0,0.6);
  display: none;
  align-items: center;
  justify-content: center;
  padding: 20px;
  z-index: 9999;
}

.modal-content {
  background: #fff;
  border-radius: 12px;
  max-width: 600px;
  width: 100%;
  padding: 20px 25px;
  text-align: left;
  position: relative;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  overflow-y: auto;
  max-height: 90vh;
}

.modal-content h2 { 
  color: #800000; 
  margin-top:0; 
  font-size: 20px; 
}

.modal-content ul { 
  padding-left:20px; 
  margin:15px 0; 
  font-size: 14px; 
}

.modal-content button {
  margin-top: 15px;
  padding: 10px 18px;
  border:none;
  border-radius:8px;
  font-weight:600;
  background:#800000;
  color:#fff;
  cursor:pointer;
}

.modal-content button:hover { 
  background:#a00000; 
}

.close-btn {
  position: absolute;
  top:10px; right:15px;
  background:transparent;
  border:none;
  font-size:22px;
  cursor:pointer;
  color:#666;
}

.close-btn:hover { 
  color:#000; 
}

#proceedBtn { 
  opacity:0.5; 
  pointer-events:none; 
  width:100%; 
}

#proceedBtn.enabled { 
  opacity:1; 
  pointer-events:auto; 
}

/* ===== Responsive Design ===== */
@media (max-width: 1024px) {
  body { padding: 0 15px; }
  header { padding: 12px 16px; }
  h1 { font-size: 21px; }
  .question { padding: 12px; }
  .question h3 { font-size: 15px; }
  .modal-content { max-width: 90%; }
}

@media (max-width: 768px) {
  h1 { font-size: 20px; }
  .question h3 { font-size: 15px; }
  .question label { font-size: 13px; }
  button.submit-btn { font-size: 15px; padding: 10px; }
  .modal-content h2 { font-size: 18px; }
  .modal-content ul { font-size: 13px; }
  header { flex-direction: column; align-items: flex-start; padding: 10px; }
  header .btn-group { display: flex; flex-wrap: wrap; gap: 8px; }
}

@media (max-width: 480px) {
  h1 { font-size: 18px; }
  .question h3 { font-size: 14px; }
  .question label { font-size: 12px; }
  button.submit-btn { font-size: 14px; }
  .timer { font-size: 14px; }
  .modal-content { padding: 15px 18px; max-width: 95%; }
  .modal-content h2 { font-size: 16px; }
  footer { font-size: 12px; padding: 15px; }
}

  </style>
</head>
<body>

  <header>
    <div class="title">Quiz 4 - Table Structures & Keys</div>
    <div class="btn-group">
      <a href="Lesson4.html">üìö Back to Lesson</a>
      <a href="index.html">üè† Home</a>
    </div>
  </header>

  <h1 class="Test">Quiz - Situational: Tables & Keys</h1>
  <div class="timer">Time left: <span id="time">150</span>s</div>

  <!-- Quiz Form -->
<form id="quizForm">

 <!-- Quiz Form -->
<form id="quizForm">

  <div class="question">
    <h3>1. In the story, John asked how Entities and Attributes are stored. What did the teacher say?</h3>
    <label><input type="radio" name="q1" value="a"> They are stored in Tables</label>
    <label><input type="radio" name="q1" value="b"> They are stored in Keys</label>
    <label><input type="radio" name="q1" value="c"> They are stored in Records only</label>
  </div>

  <div class="question">
    <h3>2. Frankie explained that each row in a Table represents what?</h3>
    <label><input type="radio" name="q2" value="a"> An Attribute</label>
    <label><input type="radio" name="q2" value="b"> An Entity (like one student)</label>
    <label><input type="radio" name="q2" value="c"> A Database</label>
  </div>

  <div class="question">
    <h3>3. What problem did John raise about students with the same name?</h3>
    <label><input type="radio" name="q3" value="a"> How to store their grades</label>
    <label><input type="radio" name="q3" value="b"> How to avoid confusion when names are the same</label>
    <label><input type="radio" name="q3" value="c"> How to create tables faster</label>
  </div>

  <div class="question">
    <h3>4. What solution did the teacher provide to solve John‚Äôs concern?</h3>
    <label><input type="radio" name="q4" value="a"> Use Foreign Key</label>
    <label><input type="radio" name="q4" value="b"> Use Composite Key</label>
    <label><input type="radio" name="q4" value="c"> Use Primary Key</label>
  </div>

  <div class="question">
    <h3>5. If two students named Juan Dela Cruz exist, how are they kept unique in the system?</h3>
    <label><input type="radio" name="q5" value="a"> By their Age</label>
    <label><input type="radio" name="q5" value="b"> By their Student ID</label>
    <label><input type="radio" name="q5" value="c"> By their Section</label>
  </div>

  <div class="question">
    <h3>6. The teacher said that Foreign Keys are used for what purpose?</h3>
    <label><input type="radio" name="q6" value="a"> To link tables together</label>
    <label><input type="radio" name="q6" value="b"> To decorate the database</label>
    <label><input type="radio" name="q6" value="c"> To replace the Primary Key</label>
  </div>

  <div class="question">
    <h3>7. In the Attendance Table example, what serves as the Foreign Key?</h3>
    <label><input type="radio" name="q7" value="a"> Attendance Date</label>
    <label><input type="radio" name="q7" value="b"> Student ID</label>
    <label><input type="radio" name="q7" value="c"> Teacher Name</label>
  </div>

  <div class="question">
    <h3>8. What kind of relationship is created when a Foreign Key links to a Primary Key?</h3>
    <label><input type="radio" name="q8" value="a"> Relationship between tables</label>
    <label><input type="radio" name="q8" value="b"> Relationship between databases</label>
    <label><input type="radio" name="q8" value="c"> Relationship between attributes</label>
  </div>

  <div class="question">
    <h3>9. Frankie gave an example of combining Attendance and Grades. What does this demonstrate?</h3>
    <label><input type="radio" name="q9" value="a"> The power of relationships in databases</label>
    <label><input type="radio" name="q9" value="b"> The need for new entities</label>
    <label><input type="radio" name="q9" value="c"> The use of composite keys only</label>
  </div>

  <div class="question">
    <h3>10. Why did John feel less confused when records were placed in Tables with Keys?</h3>
    <label><input type="radio" name="q10" value="a"> Because data is arranged and unique</label>
    <label><input type="radio" name="q10" value="b"> Because tables are smaller</label>
    <label><input type="radio" name="q10" value="c"> Because attributes are hidden</label>
  </div>

  <div class="question">
    <h3>11. According to the teacher, where else are databases used aside from school?</h3>
    <label><input type="radio" name="q11" value="a"> Only in classrooms</label>
    <label><input type="radio" name="q11" value="b"> Hospitals, banks, companies, social media</label>
    <label><input type="radio" name="q11" value="c"> Only in government</label>
  </div>

  <div class="question">
    <h3>12. What is the benefit of knowing how to use databases in real life?</h3>
    <label><input type="radio" name="q12" value="a"> It makes learning SQL easier</label>
    <label><input type="radio" name="q12" value="b"> It is useful beyond school in daily life</label>
    <label><input type="radio" name="q12" value="c"> It avoids creating entities</label>
  </div>

  <div class="question">
    <h3>13. What types of relationships did the teacher mention exist in databases?</h3>
    <label><input type="radio" name="q13" value="a"> One-to-one, one-to-many, many-to-many</label>
    <label><input type="radio" name="q13" value="b"> Table-to-table, column-to-row</label>
    <label><input type="radio" name="q13" value="c"> Primary-to-foreign, entity-to-attribute</label>
  </div>

  <div class="question">
    <h3>14. Why was John excited to learn SQL at the end of the discussion?</h3>
    <label><input type="radio" name="q14" value="a"> To query and see relationships in data</label>
    <label><input type="radio" name="q14" value="b"> To delete tables faster</label>
    <label><input type="radio" name="q14" value="c"> To memorize definitions</label>
  </div>

  <div class="question">
    <h3>15. What foundation did the teacher say John and Frankie already have?</h3>
    <label><input type="radio" name="q15" value="a"> Entities, Attributes, Tables, and Keys</label>
    <label><input type="radio" name="q15" value="b"> Only Entities and Attributes</label>
    <label><input type="radio" name="q15" value="c"> Only SQL Queries</label>
  </div>


  <button type="submit" class="submit-btn">Submit</button>
</form>

  <!-- Result Modal -->
  <div id="resultModal">
    <div class="modal-content">
      <button class="close-btn">&times;</button>
      <h2>Quiz Results & Rationalization</h2>
      <p id="scoreText"></p>
      <ul id="rationalizationList"></ul>
      <button id="proceedBtn">üéÆ Proceed to Game</button>
    </div>
  </div>

  <footer>
    ERDucate Developer ¬© 2025 | Technological University of the Philippines
  </footer>

  <script>
    // ===== User Progress Setup =====
    let users = JSON.parse(localStorage.getItem("users")) || {};
    let currentUser = localStorage.getItem("loggedInUser") || "DemoUser";
    if (!users[currentUser]) users[currentUser] = { progress: {} };

    // ===== Quiz Answers & Rationalizations =====
    const answers = {
      q1: "a", q2: "b", q3: "b", q4: "c", q5: "b",
      q6: "a", q7: "b", q8: "a", q9: "a", q10: "a",
      q11: "b", q12: "b", q13: "a", q14: "a", q15: "a"
    };
    const rationalizations = {
      q1: "Correct: Entities and Attributes are stored in Tables.",
      q2: "Correct: Each row in a Table represents one Entity, like a student.",
      q3: "Correct: John worried about confusion when names are the same.",
      q4: "Correct: A Primary Key ensures each record is unique.",
      q5: "Correct: Student ID makes each student unique even with the same name.",
      q6: "Correct: Foreign Keys link one table to another.",
      q7: "Correct: Student ID in the Attendance Table is the Foreign Key.",
      q8: "Correct: Foreign Keys create relationships between tables.",
      q9: "Correct: Combining Attendance and Grades shows the power of relationships.",
      q10: "Correct: Tables with Keys make data organized and unique.",
      q11: "Correct: Databases are used in hospitals, banks, companies, social media.",
      q12: "Correct: Databases are useful in real life beyond school.",
      q13: "Correct: Relationships include one-to-one, one-to-many, many-to-many.",
      q14: "Correct: John was excited to use SQL to query data and relationships.",
      q15: "Correct: They already understood Entities, Attributes, Tables, and Keys."
    };

    const form = document.getElementById("quizForm");
    const modal = document.getElementById("resultModal");
    const scoreText = document.getElementById("scoreText");
    const rationalizationList = document.getElementById("rationalizationList");
    const closeBtn = modal.querySelector(".close-btn");
    const proceedBtn = document.getElementById("proceedBtn");
    const timerEl = document.getElementById("time");

    // ===== Timer =====
    let timeLeft = 150;  
    timerEl.textContent = timeLeft;
    const timer = setInterval(()=> {
      timeLeft--;
      timerEl.textContent = timeLeft;
      if (timeLeft <= 0) {
        clearInterval(timer);
        form.requestSubmit();
      }
    }, 1000);

    // ===== Quiz Submit Handler =====
    form.addEventListener("submit", function(e) {
      e.preventDefault();
      clearInterval(timer);
      let score = 0;
      rationalizationList.innerHTML = "";

      for (let i = 1; i <= 15; i++) {
        let qName = "q" + i;
        let selected = (form[qName] && form[qName].value) || "";
        const li = document.createElement("li");
        if (selected === answers[qName]) {
          score++;
          li.textContent = `‚úÖ ${rationalizations[qName]}`;
        } else {
          li.textContent = `‚ùå ${rationalizations[qName]}`;
        }
        rationalizationList.appendChild(li);
      }

      scoreText.textContent = `You scored ${score} out of 15.`;

      if (score >= 10) {
        users[currentUser].progress.quiz4 = true;
        localStorage.setItem("users", JSON.stringify(users));
        proceedBtn.classList.add("enabled");
        proceedBtn.textContent = "Proceed to Game";
      } else {
        proceedBtn.classList.remove("enabled");
        proceedBtn.textContent = "Score too low. Try again!";
      }

      modal.style.display = "flex";
    });

    // ===== Close Modal =====
    closeBtn.addEventListener("click", () => { modal.style.display = "none"; });

    // ===== Proceed Button =====
    proceedBtn.addEventListener("click", () => {
      if (users[currentUser].progress.quiz4) {
        location.href = "game4.html";
      }
    });
  </script>

</body>
</html>





