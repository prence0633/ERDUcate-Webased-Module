<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ERDucate Web Based Module</title>
<link rel="icon" href="ERDucate.ico">
<style>
  body {
  font-family: 'Poppins', sans-serif;
  max-width: 900px;
  margin: 0 auto;
  padding: 0 20px;
  background: url("Quiz-background-Lesson1.png") no-repeat center center fixed;
  background-size: cover;
  color: #333;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

header {
  background-color: #800000;
  color: #fff;
  padding: 15px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
header .title { font-size: 20px; font-weight: 600; }
header .btn-group a {
  background: transparent;
  border: 2px solid #fff;
  color: #fff;
  padding: 6px 14px;
  border-radius: 6px;
  cursor: pointer;
  text-decoration: none;
  font-size: 14px;
  transition: 0.3s ease;
}
header .btn-group a:hover {
  background: #fff;
  color: #800000;
}
h1 {
  color: #800000;
  text-align: center;
  margin-top: 25px;
}
form { margin-top: 20px; }
.question {
  background: #fff;
  padding: 15px;
  border-radius: 10px;
  margin-bottom: 15px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}
.question h3 { margin: 0 0 10px; color: #800000; }
.question label { display: block; margin: 6px 0; }
button.submit-btn {
  padding: 12px 20px;
  background: #800000;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  transition: 0.3s ease;
}
button.submit-btn:hover { background: #a00000; }
footer {
  margin-top: auto;
  text-align: center;
  background: #800000;
  color: #fff;
  padding: 15px;
  font-size: 13px;
}
.timer {
  font-weight: bold;
  font-size: 16px;
  text-align: center;
  margin-top: 10px;
}

/* Modal Styles */
#resultModal {
  position: fixed;
  top:0; left:0;
  width:100vw; height:100vh;
  background: rgba(0,0,0,0.6);
  display: none;
  align-items: center;
  justify-content: center;
  padding: 20px;
  z-index: 9999;
}
.modal-content {
  background: #fff;
  border-radius: 12px;
  max-width: 600px;
  width: 100%;
  padding: 20px 25px;
  text-align: left;
  position: relative;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
.modal-content h2 { color: #800000; margin-top:0; }
.modal-content ul { padding-left:20px; margin:15px 0; }
.modal-content button {
  margin-top: 15px;
  padding: 10px 18px;
  border:none;
  border-radius:8px;
  font-weight:600;
  background:#800000;
  color:#fff;
  cursor:pointer;
}
.modal-content button:hover { background:#a00000; }
.close-btn {
  position: absolute;
  top:10px; right:15px;
  background:transparent;
  border:none;
  font-size:22px;
  cursor:pointer;
  color:#666;
}
.close-btn:hover { color:#000; }
#proceedBtn { opacity:0.5; pointer-events:none; }
#proceedBtn.enabled { opacity:1; pointer-events:auto; }

/* üîΩ RESPONSIVE BREAKPOINTS ADDED BELOW üîΩ */

/* --- 1024px: Laptop & Large Tablet --- */
@media (max-width: 1024px) {
  body {
    padding: 10px;
    max-width: 95%;
  }
  header {
    flex-wrap: wrap;
    gap: 10px;
    padding: 12px 15px;
  }
  header .title { font-size: 18px; }
  header .btn-group a {
    font-size: 13px;
    padding: 6px 12px;
  }
  h1 { font-size: 1.4rem; }
  .question { padding: 12px; }
}

/* --- 768px: Tablet & Small Laptop --- */
@media (max-width: 768px) {
  header {
    flex-direction: column;
    text-align: center;
    gap: 10px;
  }
  header .btn-group { margin-top: 8px; }
  body { padding: 8px; }
  h1 { font-size: 1.25rem; }
  .question {
    padding: 10px;
    font-size: 0.95rem;
  }
  button.submit-btn {
    width: 100%;
    font-size: 0.95rem;
  }
  .modal-content {
    max-width: 90%;
    padding: 15px 20px;
  }
}

/* --- 480px: Phones & Small Screens --- */
@media (max-width: 480px) {
  header {
    flex-direction: column;
    gap: 8px;
    padding: 10px;
  }
  header .title { font-size: 16px; }
  header .btn-group a {
    font-size: 12px;
    padding: 5px 10px;
  }
  h1 { font-size: 1.1rem; margin-top: 15px; }
  .question {
    padding: 8px;
    font-size: 0.85rem;
  }
  .question h3 { font-size: 1rem; }
  button.submit-btn {
    width: 100%;
    font-size: 0.9rem;
    padding: 10px;
  }
  .modal-content {
    max-width: 95%;
    padding: 12px 15px;
  }
  footer { font-size: 12px; padding: 10px; }
  .timer { font-size: 14px; }
}

</style>
</head>
<body>

<header>
  <div class="title">Quiz-Introduction to Databases & Importance of Structuring</div>
  <div class="btn-group">
    <a href="Lesson1.html">üìö Back to Lesson</a>
    <a href="index.html">üè† Home</a>
  </div>
</header>

<h1 class="test">Quiz-Test Your Knowledge</h1>
<div class="timer">Time left: <span id="time">60</span>s</div>

<form id="quizForm">
 <form id="quizForm">
  <div class="question">
    <h3>1. Ms. Reyes uses paper sheets for attendance, but often loses them. What should she do to solve this?</h3>
    <label><input type="radio" name="q1" value="a"> Assign a student to organize the sheets</label>
    <label><input type="radio" name="q1" value="b"> Use sticky notes instead</label>
    <label><input type="radio" name="q1" value="c"> Create a structured database to log attendance daily</label>
  </div>

  <div class="question">
    <h3>2. The principal wants to reduce report card errors from manual recording. What‚Äôs the best solution?</h3>
    <label><input type="radio" name="q2" value="a"> Print report cards automatically</label>
    <label><input type="radio" name="q2" value="b"> Use a database for organizing and calculating grades</label>
    <label><input type="radio" name="q2" value="c"> Stop giving report cards</label>
  </div>

  <div class="question">
    <h3>3. A teacher writes scores randomly in a notebook and can‚Äôt find the highest scorer. What‚Äôs the problem?</h3>
    <label><input type="radio" name="q3" value="a"> It‚Äôs unstructured data; she should use a database table</label>
    <label><input type="radio" name="q3" value="b"> She needs a better pen</label>
    <label><input type="radio" name="q3" value="c"> It‚Äôs already structured data</label>
  </div>

  <div class="question">
    <h3>4. Two teachers used different systems for attendance. Their records don‚Äôt match. What went wrong?</h3>
    <label><input type="radio" name="q4" value="a"> They didn't communicate</label>
    <label><input type="radio" name="q4" value="b"> The system is broken</label>
    <label><input type="radio" name="q4" value="c"> No shared structure; they need a common database</label>
  </div>

  <div class="question">
    <h3>5. A student transferred schools, but records were lost due to messy handwritten notes. What caused this?</h3>
    <label><input type="radio" name="q5" value="a"> Unstructured data made it hard to retrieve information</label>
    <label><input type="radio" name="q5" value="b"> The student didn‚Äôt bring the notes</label>
    <label><input type="radio" name="q5" value="c"> Handwriting was too nice</label>
  </div>

  <div class="question">
    <h3>6. Mr. Lopez wants to compare student performance over 3 years. How can a database help?</h3>
    <label><input type="radio" name="q6" value="a"> He can draw names randomly</label>
    <label><input type="radio" name="q6" value="b"> It allows easy data retrieval and analysis</label>
    <label><input type="radio" name="q6" value="c"> It removes the need for exams</label>
  </div>

  <div class="question">
    <h3>7. The school wants backup access to student data in emergencies. Why use a database?</h3>
    <label><input type="radio" name="q7" value="a"> It‚Äôs easier to hide</label>
    <label><input type="radio" name="q7" value="b"> It can be securely stored and accessed anytime</label>
    <label><input type="radio" name="q7" value="c"> Paper doesn‚Äôt get viruses</label>
  </div>

  <div class="question">
    <h3>8. Teachers find the database hard to use. What should the school do?</h3>
    <label><input type="radio" name="q8" value="a"> Let techy students do it</label>
    <label><input type="radio" name="q8" value="b"> Train all teachers to use the system confidently</label>
    <label><input type="radio" name="q8" value="c"> Go back to paper</label>
  </div>

  <div class="question">
    <h3>9. A parent asks for last semester‚Äôs grades. The teacher pulls it up in seconds. What does this show?</h3>
    <label><input type="radio" name="q9" value="a"> Teachers don‚Äôt need memory</label>
    <label><input type="radio" name="q9" value="b"> Structured data gives fast and accurate access</label>
    <label><input type="radio" name="q9" value="c"> Parents rely too much on teachers</label>
  </div>

  <div class="question">
    <h3>10. Your colleague says ‚ÄúPaper is better.‚Äù How do you convince them to use databases?</h3>
    <label><input type="radio" name="q10" value="a"> Say change isn‚Äôt needed</label>
    <label><input type="radio" name="q10" value="b"> Explain how databases save time and reduce errors</label>
    <label><input type="radio" name="q10" value="c"> Ask principal to force them</label>
  </div>
  <button type="submit" class="submit-btn">Submit</button>
</form>

<!-- Result Modal -->
<div id="resultModal">
  <div class="modal-content">
    <button class="close-btn">&times;</button>
    <h2>Quiz Results & Rationalization</h2>
    <p id="scoreText"></p>
    <ul id="rationalizationList"></ul>
    <button id="proceedBtn">üéÆ Proceed to Game</button>
  </div>
</div>

<footer>
  ERDucate Developer ¬© 2025 | Technological University of the Philippines
</footer>

<script>
  // ===== User Progress Setup =====
  let users = JSON.parse(localStorage.getItem("users")) || {};
  let currentUser = localStorage.getItem("loggedInUser") || "DemoUser";
  if(!users[currentUser]) users[currentUser] = {progress:{}};

  // ===== Quiz Answers & Rationalizations =====
const answers = {
    q1: "c",
    q2: "b",
    q3: "a",
    q4: "c",
    q5: "a",
    q6: "b",
    q7: "b",
    q8: "b",
    q9: "b",
    q10: "b"
  };

  const rationalizations = {
    q1: "Correct: A structured database will help Ms. Reyes track attendance more reliably.",
    q2: "Correct: A database ensures grades are organized and calculated accurately.",
    q3: "Correct: Unstructured data makes it hard to analyze. A database organizes it into tables.",
    q4: "Correct: A common database prevents conflicting records and ensures consistency.",
    q5: "Correct: Handwritten and unstructured data is hard to transfer and may get lost.",
    q6: "Correct: Databases allow comparisons and trend analysis of historical data.",
    q7: "Correct: Digital databases can be backed up and accessed securely anytime.",
    q8: "Correct: Training all teachers ensures they can use the system effectively.",
    q9: "Correct: Structured data enables fast, accurate, and accessible information retrieval.",
    q10: "Correct: Emphasizing time savings and data security helps encourage change."
  };

  const form = document.getElementById("quizForm");
  const modal = document.getElementById("resultModal");
  const scoreText = document.getElementById("scoreText");
  const rationalizationList = document.getElementById("rationalizationList");
  const closeBtn = modal.querySelector(".close-btn");
  const proceedBtn = document.getElementById("proceedBtn");
  const timerEl = document.getElementById("time");

  // ===== Timer =====
  let timeLeft = 90;
  const timer = setInterval(()=>{
    timeLeft--;
    timerEl.textContent = timeLeft;
    if(timeLeft<=0){ clearInterval(timer); form.requestSubmit(); }
  },1000);

  // ===== Quiz Submit Handler =====
  form.addEventListener("submit", function(e){
    e.preventDefault();
    clearInterval(timer);
    let score = 0;
    rationalizationList.innerHTML = "";

    for(let i=1;i<=10;i++){
      let qName = "q"+i;
      let selected = form[qName].value;
      const li = document.createElement("li");
      if(selected === answers[qName]){
        score++;
        li.textContent = `‚úÖ ${rationalizations[qName]}`;
      } else {
        li.textContent = `‚ùå ${rationalizations[qName]}`;
      }
      rationalizationList.appendChild(li);
    }

    scoreText.textContent = `You scored ${score} out of 10.`;

    // ===== Update Progress & Unlock Proceed =====
    if(score >= 7){
      users[currentUser].progress.quiz1 = true;
      localStorage.setItem("users", JSON.stringify(users));
      proceedBtn.classList.add("enabled");
    } else {
      proceedBtn.classList.remove("enabled");
      proceedBtn.textContent = "Score too low. Try again!";
    }

    modal.style.display = "flex";
  });

  // ===== Close Modal =====
  closeBtn.addEventListener("click", ()=>{ modal.style.display="none"; });

  // ===== Proceed Button =====
  proceedBtn.addEventListener("click", ()=>{
    if(users[currentUser].progress.quiz1){
      location.href="game1.html";
    }
  });
</script>
</body>
</html>
